usethis::create_package()
usethis::create_package("/Users/santiago/code/freemaillib")
usethis::use_r("validation")
grep("^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$", "email@domain.com")\
grep("^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$", "email@domain.com")
grepl("^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$", "email@domain.com")
grepl("^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$", "email@domain.co")
grepl("^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$", "email@domain.c")
grepl("^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$", "email@domain.")
grepl("^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$", "email@domain.c.")
grepl(
"(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])",
"email@domain.co"
)
grepl(
"(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])",
"email@domain.co"
)
grepl(
"(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])",
"email@domain.co"
)
grepl(
"(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])",
"email@domain.co"
)
grepl(
"^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",
"email@domain.co"
)
grepl(
"^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",
"email@domain.co."
)
grepl(
"^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",
"email@domain.co;sdf@gma.com"
)
grepl(
"^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",
"email@domain.c"
)
usethis::use_data_raw("free_email_providers")
install.packages("here")
here::set_here()
here::here()
## code to prepare `free_email_providers` dataset goes here
readLines(here::here("inst/free_email_providers.txt"))
readLines("https://gist.githubusercontent.com/tbrianjones/5992856/raw/93213efb652749e226e69884d6c048e595c1280a/free_email_provider_domains.txt")
styler:::style_active_file()
free_email_providers <- c(
"gmail.com", "zohomail.eu", "zohomail.de", "gmx.de", "gmx.biz", "gmx.org", "gmx.net", "firemail.eu", "firemail.de", "ok.de", "vip-client.de", "outlook.de", "outlook.com", "web.de", "mail.de", "yahoo.de", "yahoo.com", "aol.com", "aol.de", "icloud.com", "freenet.de",
"mailbox.org", "posteo.de", "t-online.de", "hotmail.com", "hotmail.de", "aim.com", "googlemail.com",
"tuta.io", "protonmail.com", "cuvox.de", "online.de", "email.de", "mein.gmx",
"wp.pl", "yopmail.com", "vodafonemail.de", "tutanota.com", "skymail.de",
"bizz.de", "gmx-topmail.de", "maills.de", "magenta.de", "bossmail.de"
)
writeLines(free_email_providers, here::here("data-raw/free_email_providers.txt"))
styler:::style_active_file()
writeLines(
free_email_providers[order(free_email_providers)],
here::here("data-raw/free_email_providers.txt")
)
free_email_providers <- c(
"gmail.com", "zohomail.eu", "zohomail.de", "zohomail.com", "zoho.com", "gmx.de", "gmx.biz", "gmx.org", "gmx.net", "firemail.eu", "firemail.de", "ok.de", "vip-client.de", "outlook.de", "outlook.com", "web.de", "mail.de", "yahoo.de", "yahoo.com", "aol.com", "aol.de", "icloud.com", "freenet.de",
"mailbox.org", "posteo.de", "t-online.de", "hotmail.com", "hotmail.de", "aim.com", "googlemail.com",
"tuta.io", "protonmail.com", "cuvox.de", "online.de", "email.de", "mein.gmx",
"wp.pl", "yopmail.com", "vodafonemail.de", "tutanota.com", "skymail.de",
"bizz.de", "gmx-topmail.de", "maills.de", "magenta.de", "bossmail.de"
)
writeLines(
free_email_providers[order(free_email_providers)],
here::here("data-raw/free_email_providers.txt")
)
free_email_providers <- c(
"gmail.com", "zohomail.eu", "zohomail.de", "zohomail.com", "zoho.com", "gmx.de", "gmx.biz", "gmx.org", "gmx.net", "firemail.eu", "firemail.de", "ok.de", "vip-client.de", "outlook.de", "outlook.com", "web.de", "mail.de", "yahoo.de", "yahoo.com", "aol.com", "aol.de", "icloud.com", "freenet.de",
"mailbox.org", "posteo.de", "t-online.de", "hotmail.com", "hotmail.de", "aim.com", "googlemail.com",
"tuta.io", "protonmail.com", "cuvox.de", "online.de", "email.de", "mein.gmx",
"wp.pl", "yopmail.com", "vodafonemail.de", "tutanota.com", "skymail.de",
"bizz.de", "gmx-topmail.de", "maills.de", "magenta.de", "bossmail.de"
)
writeLines(
unique(free_email_providers[order(free_email_providers)]),
here::here("data-raw/free_email_providers.txt")
)
## code to prepare `free_email_providers` dataset goes here
free_email_providers_longlist <- readLines(
"https://gist.githubusercontent.com/tbrianjones/5992856/raw/93213efb652749e226e69884d6c048e595c1280a/free_email_provider_domains.txt"
)
free_email_providers_domains <- c(
"gmail.com", "zohomail.eu", "zohomail.de", "zohomail.com", "zoho.com", "gmx.de", "gmx.biz", "gmx.org", "gmx.net", "firemail.eu", "firemail.de", "ok.de", "vip-client.de", "outlook.de", "outlook.com", "web.de", "mail.de", "yahoo.de", "yahoo.com", "aol.com", "aol.de", "icloud.com", "freenet.de",
"mailbox.org", "posteo.de", "t-online.de", "hotmail.com", "hotmail.de", "aim.com", "googlemail.com",
"tuta.io", "protonmail.com", "online.de", "email.de", "mein.gmx",
"wp.pl", "yopmail.com", "vodafonemail.de", "tutanota.com", "skymail.de",
"bizz.de", "gmx-topmail.de", "maills.de", "magenta.de", "bossmail.de"
)
free_emails <- data.frame(
type = "free non-burner",
domain = free_email_providers_domains
)
writeLines(
unique(free_email_providers_domains[order(free_email_providers_domains)]),
here::here("data-raw/free_email_providers_domains.txt")
)
burner_email_provider_domains <- readLines(
"https://raw.githubusercontent.com/wesbos/burner-email-providers/master/emails.txt"
)
burner_emails <- data.frame(
type = "burner",
domain = burner_email_provider_domains
)
free_email_providers <- rbind(free_emails, burner_emails)
View(free_email_providers)
usethis::use_data(free_email_providers, overwrite = TRUE)
styler:::style_active_file()
is_free_email <- function(email, include_burner = TRUE) {
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
free_email_providers$type != "burner"
]
}
email %in% free_email_providers$domain
}
stringi::stri_extract("bla@domain.com", "@.*")
stringi::stri_extract("bla@domain.com", "@.*", regex = TRUE)
stringi::stri_extract("bla@domain.com", regex = "@.*")
styler:::style_active_file()
is_free_email <- function(email, include_burner = TRUE) {
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
free_email_providers$type != "burner"
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract("bla@domain.com", regex = "@.*"), "@", ""
)
email_domain %in% free_email_providers$domain
}
is_free_email("foo@gmail.com")
is_free_email <- function(email, include_burner = TRUE) {
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
free_email_providers$type != "burner"
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract("bla@domain.com", regex = "@.*"), "", fixed = "@"
)
email_domain %in% free_email_providers$domain
}
is_free_email("foo@gmail.com")
is_free_email <- function(email, include_burner = TRUE) {
browser()
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
free_email_providers$type != "burner"
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract("bla@domain.com", regex = "@.*"), "", fixed = "@"
)
email_domain %in% free_email_providers$domain
}
is_free_email("foo@gmail.com")
isFALSE(include_burner
)
free_email_providers$domain
email_domain <- stringi::stri_replace(
stringi::stri_extract("bla@domain.com", regex = "@.*"), "", fixed = "@"
)
is_free_email <- function(email, include_burner = TRUE) {
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
free_email_providers$type != "burner"
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract(email, regex = "@.*"), "", fixed = "@"
)
email_domain %in% free_email_providers$domain
}
is_free_email("foo@gmail.com")
is_free_email <- function(email, include_burner = TRUE) {
stopifnot(is_valid_email(email))
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
free_email_providers$type != "burner"
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract(email, regex = "@.*"), "", fixed = "@"
)
email_domain %in% free_email_providers$domain
}
is_free_email("foo@")
is_valid_email <- function(email) {
grepl(
"^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",
email
)
}
is_free_email("foo@")
is_free_email("foo@cuvox.de")
is_free_email("foo@cuvox.com")
is_free_email("foo@cuvox.de", include_burner = FALSE)
library(freemaillib)
source('~/code/freemaillib/R/validation.R')
is_free_email("foo@cuvox.de", include_burner = FALSE)
source('~/code/freemaillib/R/validation.R')
is_free_email("foo@cuvox.de", include_burner = FALSE)
mtcars[, cyl == 2]
mtcars[, mtcars$cyl == 2]
mtcars[, mtcars$cyl == 3]
mtcars[, mtcars$cyl == 4]
mtars
mtcars
mtcars[, mtcars$cyl == 4]
mtcars[mtcars$cyl == 4, ]
is_free_email <- function(email, include_burner = TRUE) {
stopifnot(is_valid_email(email))
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
freemaillib::free_email_providers$type != "burner",
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract(email, regex = "@.*"), "", fixed = "@"
)
email_domain %in% freemaillib::free_email_providers$domain
}
is_free_email("foo@cuvox.de", include_burner = FALSE)
is_free_email <- function(email, include_burner = TRUE) {
browser()
stopifnot(is_valid_email(email))
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
freemaillib::free_email_providers$type != "burner",
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract(email, regex = "@.*"), "", fixed = "@"
)
email_domain %in% freemaillib::free_email_providers$domain
}
is_free_email <- function(email, include_burner = TRUE) {
browser()
stopifnot(is_valid_email(email))
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
freemaillib::free_email_providers$type != "burner",
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract(email, regex = "@.*"), "", fixed = "@"
)
email_domain %in% freemaillib::free_email_providers$domain
}
is_free_email("foo@cuvox.de", include_burner = FALSE)
is_free_email <- function(email, include_burner = TRUE) {
stopifnot(is_valid_email(email))
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
freemaillib::free_email_providers$type != "burner",
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract(email, regex = "@.*"), "", fixed = "@"
)
email_domain %in% free_email_providers$domain
}
is_free_email("foo@cuvox.de", include_burner = FALSE)
is_free_email("foo@cuvox.de")
is_free_email <- function(email, include_burner = TRUE) {
stopifnot(is_valid_email(email))
if (isFALSE(include_burner)) {
free_email_providers <- freemaillib::free_email_providers[
freemaillib::free_email_providers$type != "burner",
]
}
email_domain <- stringi::stri_replace(
stringi::stri_extract(email, regex = "@.*"), "", fixed = "@"
)
email_domain %in% free_email_providers$domain
}
is_free_email("foo@cuvox.de")
source('~/code/freemaillib/R/validation.R')
is_free_email("foo@cuvox.de")
is_free_email("foo@cuvox.de", include_burner = F)
source('~/code/freemaillib/R/validation.R')
styler:::style_active_file()
is_burner_email("goo@cuvox.de")
source('~/code/freemaillib/R/validation.R')
is_burner_email("goo@cuvox.de")
is_burner_email("goo@cuvox.")
is_burner_email("goo@cuvox.c")
?isFALSE()
usethis::use_latest_dependencies()
